---
import Datetime from './Datetime.astro'
import { getReadingTime } from '../lib/utils'
import { url } from '../config'

interface Props {
  slug: string
  title: string
  pubDatetime: Date
  description?: string
  body: string
}

const { slug, title, pubDatetime, description, body } = Astro.props
const readingTime = getReadingTime(body)
---
<a
  href={url(`/${slug}`)}
  class="action-list-item"
>
  <figure class="action-list-icon">⭢</figure>
  <span class="action-list-text">{title}</span>
</a>
<div class="grid">
  <div style="display: flex; align-items: center; gap: 0;">
    <Datetime datetime={pubDatetime} />
    <span style="margin-left: 1ch;">• {readingTime}</span>
  </div>
  {description && <p style="margin-top: calc(var(--font-size) * var(--theme-line-height-base) * 0.5);">{description}</p>}
</div>
